@model List<LogsModel>
@{
    Layout = "_LayoutMenuDentro";
    ViewData["Title"] = "Listagem de Alimentos perto de vencer";
}


<link rel="stylesheet" href="~/css/EstoqueCSS/indexEstoque.css" />

<!DOCTYPE html>
<html>
<head>
    <title>Toggle Divs</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script>
        $(document).ready(function () {
            $("#btn1").click(function () {
                $("#div1").show();
                $("#div2").hide();
                $("#div3").hide();
                $("#div4").hide();
                $("#div5").hide();
                $("#div6").hide();
            });

            $("#btn2").click(function () {
                $("#div2").show();
                $("#div1").hide();
                $("#div3").hide();
                $("#div4").hide();
                $("#div5").hide();
                $("#div6").hide();
            });

            $("#btn3").click(function () {
                $("#div3").show();
                $("#div1").hide();
                $("#div2").hide();
                $("#div4").hide();
                $("#div5").hide();
                $("#div6").hide();
            });
            $("#btn4").click(function () {
                $("#div4").show();
                $("#div1").hide();
                $("#div2").hide();
                $("#div3").hide();
                $("#div5").hide();
                $("#div6").hide();
            });
            $("#btn5").click(function () {
                $("#div5").show();
                $("#div4").hide();
                $("#div1").hide();
                $("#div2").hide();
                $("#div3").hide();
                $("#div6").hide();
            });
            $("#btn6").click(function () {
                $("#div6").show();
                $("#div1").hide();
                $("#div2").hide();
                $("#div3").hide();
                $("#div4").hide();
                $("#div5").hide();
            });
        });
    </script>
</head>
<body>
    <br />
    <br />
    <br />
    
    <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" id="DropdownMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Tipo de pesquisa
        </button>
        <div class="dropdown-menu" aria-labelledby="DropdownMenu" id="DropdownMenu">
            <button id="btn6" class="dropdown-item">Logs de Cadastro</button>
            <button id="btn1" class="dropdown-item">Logs de Devolução</button>
            <button id="btn2" class="dropdown-item">Logs de Retirada</button>
            <button id="btn4" class="dropdown-item">Logs de Edição</button>
            <button id="btn5" class="dropdown-item">Logs de Exclução</button>
            <button id="btn3" class="dropdown-item">Listar tudo</button>
        </div>
    </div> 

    <br />

    <div id="div1" style="display: none;">
        <!-- Div dos que estão Vencidos -->
        <div id="conteudo">
            <h1 class="text-center">Logs de Devolução</h1>
            <section>
                <div class="table-responsive">
                    <table class="table table-striped table-hover table-Devolucao" id="table-Devolucao">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">ID Alimento</th>
                                <th scope="col">Nome Alimento</th>
                                <th scope="col">Usuário Devolveu</th>
                                <th scope="col">Data Devolveu</th>
                                <th scope="col">Quantidade Alimento</th>
                                <th scope="col">Obs de Devolução</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model != null && Model.Any())
                            {
                                foreach (LogsModel log in Model)
                                {
                                    if (log.UsuarioDevolvel != null)
                                    {
                                        <tr>
                                            <td>@log.Id</td>
                                            <td>@log.IdAlimento</td>
                                            <td>@log.NomeAlimeto</td>
                                            <td>@log.UsuarioDevolvel</td>
                                            <td>@log.DataDevolve</td>
                                            <td>@log.QuantidadeAlimento</td>
                                            <td>@log.obsDeDevolucao</td>
                                        </tr>
                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

    <div id="div2" style="display: none;">
        <!-- Div dos que estão para vencer -->
        <div id="conteudo">
            <h1 class="text-center">Logs de Retirada</h1>
            <section>
                <div class="table-responsive">
                    <table class="table table-striped table-hover table-Retirada" id="table-Retirada">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">ID Alimento</th>
                                <th scope="col">Nome Alimento</th>
                                <th scope="col">Usuário Retirou</th>
                                <th scope="col">Data Retirou</th>
                                <th scope="col">Quantidade Alimento</th>
                                <th scope="col">Obs de Saída</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model != null && Model.Any())
                            {
                                foreach (LogsModel log in Model)
                                {
                                    if (log.UsuarioRetirou != null)
                                    {
                                        <tr>
                                            <td>@log.Id</td>
                                            <td>@log.IdAlimento</td>
                                            <td>@log.NomeAlimeto</td>
                                            <td>@log.UsuarioRetirou</td>
                                            <td>@log.DataRetira</td>
                                            <td>@log.QuantidadeAlimento</td>
                                            <td>@log.obsDeSaida</td>
                                        </tr>
                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

    <div id="div3">
        <!-- Div de todos Logs -->
        <div id="table-responsiva">
            <h1 class="text-center">Todos os logs</h1>
            <div class="table-responsive">
                <table class="table table-striped table-hover table-Todos" id="table-Todos">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Usuário Cadastrou</th>
                            <th scope="col">ID Alimento</th>
                            <th scope="col">Nome Alimento</th>
                            <th scope="col">Usuário Editou</th>
                            <th scope="col">Usuário Retirou</th>
                            <th scope="col">Usuário Devolveu</th>
                            <th scope="col">Data Cadastro</th>
                            <th scope="col">Data Atualização</th>
                            <th scope="col">Data Retirada</th>
                            <th scope="col">Data Devolução</th>
                            <th scope="col">Quantidade Alimento</th>
                            <th scope="col">Obs de Devolução</th>
                            <th scope="col">Obs de Saída</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model != null && Model.Any())
                        {
                            foreach (LogsModel log in Model)
                            {
                                <tr>
                                    <td>@log.Id</td>
                                    <td>@log.UsuarioCadastrou</td>
                                    <td>@log.IdAlimento</td>
                                    <td>@log.NomeAlimeto</td>
                                    <td>@log.UsuarioEditou</td>
                                    <td>@log.UsuarioRetirou</td>
                                    <td>@log.UsuarioDevolvel</td>
                                    <td>@log.DataCadastro</td>
                                    <td>@log.DataAtualizacao</td>
                                    <td>@log.DataRetira</td>
                                    <td>@log.DataDevolve</td>
                                    <td>@log.QuantidadeAlimento</td>
                                    <td>@log.obsDeDevolucao</td>
                                    <td>@log.obsDeSaida</td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="div4" style="display: none;">
        <div id="conteudo">
            <h1 class="text-center">Logs de Edição</h1>
            <section>
                <div class="table-responsive">
                    <table class="table table-striped table-hover table-Vencendo" id="table-Vencendo">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">ID Alimento</th>
                                <th scope="col">Nome Alimento</th>
                                <th scope="col">Usuário Editou</th>
                                <th scope="col">Data Edição</th>
                                <th scope="col">Quantidade</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model != null && Model.Any())
                            {
                                foreach (LogsModel log in Model)
                                {
                                    if (log.UsuarioEditou != null)
                                    {
                                        <tr>
                                            <td>@log.Id</td>
                                            <td>@log.IdAlimento</td>
                                            <td>@log.NomeAlimeto</td>
                                            <td>@log.UsuarioEditou</td>
                                            <td>@log.DataAtualizacao</td>
                                            <td>@log.QuantidadeAlimento</td>
                                        </tr>
                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

    <div id="div5" style="display: none;">
        <div id="conteudo">
            <h1 class="text-center">Logs de Exclição</h1>
            <section>
                <div class="table-responsive">
                    <table class="table table-striped table-hover table-Exclucao" id="table-Exclucao">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">ID Alimento</th>
                                <th scope="col">Nome Alimento</th>
                                <th scope="col">Usuário Excluiu</th>
                                <th scope="col">Data Excluiu</th>
                                <th scope="col">Quantidade Excluida</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model != null && Model.Any())
                            {
                                foreach (LogsModel log in Model)
                                {
                                    if (log.UsuarioRemovel != null)
                                    {
                                        <tr>
                                            <td>@log.Id</td>
                                            <td>@log.IdAlimento</td>
                                            <td>@log.NomeAlimeto</td>
                                            <td>@log.UsuarioRemovel</td>
                                            <td>@log.DataRemovel</td>
                                            <td>@log.QuantidadeAlimento</td>
                                        </tr>
                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

    <div id="div6" style="display: none;">
        <div id="conteudo">
            <h1 class="text-center">Logs de Cadastro</h1>
            <section>
                <div class="table-responsive">
                    <table class="table table-striped table-hover table-Cadastro" id="table-Cadastro">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">ID Alimento</th>
                                <th scope="col">Nome Alimento</th>
                                <th scope="col">Usuário Cadastrou</th>
                                <th scope="col">Data Cadastro</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model != null && Model.Any())
                            {
                                foreach (LogsModel log in Model)
                                {
                                    if (log.UsuarioCadastrou != null)
                                    {
                                        <tr>
                                            <td>@log.Id</td>
                                            <td>@log.IdAlimento</td>
                                            <td>@log.NomeAlimeto</td>
                                            <td>@log.UsuarioCadastrou</td>
                                            <td>@log.DataCadastro</td>
                                        </tr>
                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

</body>
</html>

<script>
    // Função para mostrar a barra de carregamento e imprimir a página após 3 segundos
    function showLoading() {
        // Mostra a barra de carregamento
        document.getElementById('loading-container').style.display = 'block';

        // Animação suave para mostrar a barra de carregamento
        document.getElementById('loading-bar').style.transition = 'width 3s ease-in-out'; // Definindo a duração da animação

        setTimeout(function () {
            document.getElementById('loading-bar').style.width = '100%';
        }, 100);

        // Define a ação de impressão após um tempo suficiente
        setTimeout(function () {
            window.print();
            // Esconde a barra de carregamento após a impressão
            document.getElementById('loading-container').style.display = 'none';
            // Reseta a largura da barra de carregamento para 0%
            document.getElementById('loading-bar').style.width = '0%';
        }, 3000);
    }
</script>

<style>
    .custom-print-button {
        padding: 5px 10px;
        background-color: #007bff; /* Cor do botão */
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

        .custom-print-button:hover {
            background-color: #0056b3; /* Cor do botão ao passar o mouse */
        }

    .loading-bar {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        height: 2px; /* Altura da barra de carregamento */
        width: 0%; /* Inicialmente sem largura */
        background-color: #28a745; /* Cor da barra de carregamento */
        transition: width 3s;
    }

</style>

<style>
    .custom-print-button {
        padding: 5px 10px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

        .custom-print-button:hover {
            background-color: #0056b3;
        }
</style>

<style>
    #table-responsiva {
        width: 100%;
        /* Centraliza a tabela na tela */
    }
    /* Estilos personalizados para a dropdown */
    .dropdown-toggle {
        border-radius: 20px;
        font-weight: bold;
        background-color: #007bff;
        border-color: #007bff;
    }

        .dropdown-toggle:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

    .dropdown-menu {
        border-radius: 20px;
        background-color: #f8f9fa;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    }

    .dropdown-item {
        color: #495057;
        border-radius: 7px;
    }

        .dropdown-item:hover {
            background-color: #cce5ff;
            color: #007bff;
        }
</style>

<style>
    @@media print {
        body {
            color: gray;
        }

        #conteudo {
            font-size: 14pt;
        }

        button {
            display: none;
        }

        #DropdownMenu {
            display: none;
        }

        #invisivel{
            display: none;
        }

        /* Adicione as regras para a tabela */
        table {
            border-collapse: collapse;
            background-color: red;
            width: 100%;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }
    }
</style>
